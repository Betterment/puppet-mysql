[client]
host=<%= @host %>
port=<%= @port %>
socket=<%= @socket %>
default-character-set=utf8mb4

[server]
datadir=<%= @datadir %>
log-error=<%= "#{@logdir}/error.log" %>
bind-address=<%= @host %>
port=<%= @port %>
socket=<%= @socket %>

default-storage-engine=innodb
max_allowed_packet=1073741824
sql-mode="NO_ENGINE_SUBSTITUTION"
character-set-client-handshake=FALSE
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
init-connect='SET collation_connection=utf8mb4_unicode_ci'
init-connect='SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'
lower_case_table_names=2
max_sp_recursion_depth=3
innodb_buffer_pool_size=1024Mb
innodb_log_file_size=128Mb
innodb_file_per_table
innodb_file_format=Barracuda
innodb_large_prefix
innodb_flush_log_at_trx_commit=2
transaction-isolation=READ-COMMITTED

# https://bugs.mysql.com/bug.php?id=71960
table_open_cache=500

[mysqldump]
default-character-set=utf8mb4
